<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <script src="react.development.js"></script>
    <script src="react-dom.development.js"></script>
    <script src='babel.js'></script>
    <script src='react-router-dom.js'></script>
    <title>YODAZ</title>
  </head>
  <body>

    <div id="app"></div>

    <script type="text/jsx">

      //Component for ADDING CITY --------------------------------
      class AddCity extends React.Component {
      contructor(props) {
        super(props);
        this.state = { valueCity: props.initialValueCity, valuePop: props.initialValuePop }
        this.onClick = this.onClick.bind(this)
        this.onTextChange = this.onTextChange.bind(this)
        this.fetchStuff = this.fetchStuff.bind(this)
      }
      render() {
        return <section>
        <input valueCity={this.state.valueCity} onChange={this.onTextChange}/>
        <input valuePop={this.state.valuePop} onChange={this.onTextChange}/>
        <button onClick={this.onClick}>ADD CITY!</button>
        </section>
      }
      onClick(event) {
      console.log(this.state.value);
      //this.fetchStuff(this.state.value)

      fetch("http://cities.jonkri.se/", {
          body: JSON.stringify({ "name": "Sk√∂vde", "population": 928459845925 }),
          headers: {
            "Content-Type": "application/json"
          },
          method: 'POST'
       })
    }
      }
        componentDidMount() {
          fetch('http://cities.jonkri.se/')
          .then(function (response) { return response.json(); })
          .then(function (result) { console.log(result); });
      }

      ReactDOM.render(
        <AddCity initialValueCity="City name", initialValuePop="Population amount" ></AddCity>,
        document.getElementById("app")
      )
      //ADD CITY COMPONENT END -----------------------------------


      ReactDOM.render(
        document.getElementById('app')
      );

    </script>

  </body>
</html>
